(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,10160,e=>{"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e.s(["default",()=>t])},55298,e=>{"use strict";function t(e,t){let a=["#f44336","#9c27b0","#3f51b5","#03a9f4","#009688","#8bc34a","#ff9800","#e81e63","#673ab7","#2196f3","#00bcd4","#4caf50","#cddc39","#ffc107","#ff5722","#ffeb3b"];if(!e)return a[a.length-1];if(t&&t.length>0){let s=[...t].filter(Boolean).sort().indexOf(e);if(s>=0)return a[s%a.length]}let s=0,o=e.toLowerCase();for(let e=0;e<o.length;e++)s=o.charCodeAt(e)+((s<<5)-s);return a[Math.abs(s)%a.length]}e.s(["getTrackColor",()=>t])},20779,e=>{"use strict";var t=e.i(43476),a=e.i(71645),s=e.i(18566),o=e.i(70857),n=e.i(55298);function r(e){return new Date(e).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!1})}function i({events:e,allTracks:o,onSessionClick:i}){let l=(0,s.useRouter)(),c=(0,a.useMemo)(()=>o&&o.length>0?o:[...new Set(e.map(e=>e.track))].filter(Boolean).sort(),[e,o]),d=Array.from(new Set(e.map(e=>e.location||"Other"))).sort(),m=Array.from(new Set(e.map(e=>{let t=new Date(e.inizio),a=15*Math.floor(t.getMinutes()/15);return t.setMinutes(a),t.setSeconds(0),t.toISOString()}))).sort(),u={};return m.forEach(e=>{u[e]={},d.forEach(t=>{u[e][t]=[]})}),e.forEach(e=>{let t=new Date(e.inizio),a=15*Math.floor(t.getMinutes()/15);t.setMinutes(a),t.setSeconds(0);let s=t.toISOString(),o=e.location||"Other";u[s]&&u[s][o]&&u[s][o].push(e)}),(0,t.jsx)("div",{className:"timeline-view",children:(0,t.jsx)("div",{className:"table-responsive",children:(0,t.jsxs)("table",{className:"table table-bordered table-sm timeline-table",style:{fontSize:"0.85rem"},children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"timeline-time-col",style:{width:"100px",position:"sticky",left:0,backgroundColor:"white",zIndex:10,textAlign:"center"},children:"Time"}),d.map(e=>(0,t.jsx)("th",{className:"text-center timeline-room-col",style:{minWidth:"200px"},children:e||"Other"},e))]})}),(0,t.jsx)("tbody",{children:m.map(e=>{let a=r(e);return(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{className:"timeline-time-col",style:{position:"sticky",left:0,backgroundColor:"white",zIndex:9,fontWeight:"bold",textAlign:"center"},children:a}),d.map(a=>{let s=u[e][a]||[];return(0,t.jsx)("td",{className:"timeline-room-col",style:{verticalAlign:"top",padding:"4px"},children:s.map(e=>{let a=new Date(e.inizio);return new Date(e.fine).getTime(),a.getTime(),(0,t.jsxs)("div",{className:"timeline-event",style:{backgroundColor:(0,n.getTrackColor)(e.track,c),color:"white",padding:"6px 8px",margin:"2px 0",borderRadius:"4px",fontSize:"0.75rem",cursor:"pointer"},title:`${e.titolo} - ${r(e.inizio)} - ${r(e.fine)}`,onClick:()=>i?i(e):l.push(`/session/${e.key}`),children:[(0,t.jsx)("div",{className:"fw-bold mb-1",style:{fontSize:"0.8rem"},children:e.titolo.length>50?e.titolo.substring(0,50)+"...":e.titolo}),(0,t.jsx)("div",{className:"mb-1",children:(0,t.jsx)("span",{className:"badge bg-dark",style:{fontSize:"0.65rem"},children:e.track})}),(0,t.jsxs)("div",{style:{fontSize:"0.7rem"},children:[r(e.inizio)," - ",r(e.fine)]})]},e.id)})},a)})]},e)})})]})})})}var l=e.i(35898);function c(){let e=(0,s.useSearchParams)(),n=(0,s.useRouter)(),r=(0,s.usePathname)(),[c,d]=(0,a.useState)([]),[m,u]=(0,a.useState)(new Set),[h,f]=(0,a.useState)(!1),[g,p]=(0,a.useState)({...o.emptyFilters,day:e.get("day")||"",track:e.get("track")||"",location:e.get("location")||"",lang:e.get("lang")||"",search:e.get("search")||"",speaker:e.get("speaker")||""}),[y,b]=(0,a.useState)(!1),k=(0,a.useRef)(!1);(0,a.useEffect)(()=>{if(!y)return void b(!0);let t={...o.emptyFilters,day:e.get("day")||"",track:e.get("track")||"",location:e.get("location")||"",lang:e.get("lang")||"",search:e.get("search")||"",speaker:e.get("speaker")||""};p(e=>{let a=e.day!==t.day||e.track!==t.track||e.location!==t.location||e.lang!==t.lang||e.search!==t.search||e.speaker!==t.speaker;return a&&(k.current=!0),a?t:e})},[e,y]),(0,a.useEffect)(()=>{if(!y)return;if(k.current){k.current=!1;return}let t=new URLSearchParams;g.day&&t.set("day",g.day),g.track&&t.set("track",g.track),g.location&&t.set("location",g.location),g.lang&&t.set("lang",g.lang),g.search&&t.set("search",g.search),g.speaker&&t.set("speaker",g.speaker);let a=t.toString();if(a!==e.toString()){let e=a?`${r}?${a}`:r;n.replace(e,{scroll:!1})}},[g,r,n,e,y]),(0,a.useEffect)(()=>{try{let e="true"===localStorage.getItem("agenda-compact-mode");f(e)}catch{}},[]),(0,a.useEffect)(()=>{fetch("https://agenda-2026.itasec.it/api/sessions/sessions").then(e=>e.json()).then(e=>d(e)).catch(e=>console.error("Error loading data:",e))},[]),(0,a.useEffect)(()=>{try{localStorage.setItem("agenda-last-view","timeline")}catch{}},[r]),(0,a.useEffect)(()=>{try{localStorage.setItem("agenda-compact-mode",h?"true":"false")}catch{}},[h]);let x=(0,a.useMemo)(()=>{let e=c.filter(e=>(!g.day||e.inizio.startsWith(g.day))&&(!g.track||e.track===g.track)&&(!g.location||e.location===g.location)&&(!g.lang||e.lingua===g.lang)&&(!g.speaker||e.speakers?.some(e=>e.nome===g.speaker)||e.moderatore&&e.moderatore.nome===g.speaker||e.organizzatori?.some(e=>e.nome===g.speaker)));if(g.search&&g.search.trim()){let t=g.search.toLowerCase().trim();e=e.filter(e=>!!(e.titolo?.toLowerCase().includes(t)||e.location?.toLowerCase().includes(t)||new Date(e.inizio).toLocaleDateString("en-US",{weekday:"long",day:"numeric",month:"long"}).toLowerCase().includes(t)||e.lingua?.toLowerCase().includes(t)||e.speakers?.some(e=>e.nome?.toLowerCase().includes(t)||e.azienda?.toLowerCase().includes(t)||e.titolo?.toLowerCase().includes(t))||e.moderatore&&(e.moderatore.nome?.toLowerCase().includes(t)||e.moderatore.azienda?.toLowerCase().includes(t)||e.moderatore.titolo?.toLowerCase().includes(t))||e.organizzatori?.some(e=>e.nome?.toLowerCase().includes(t)||e.azienda?.toLowerCase().includes(t)||e.titolo?.toLowerCase().includes(t))||e.descrizione&&e.descrizione.replace(/<[^>]*>/g," ").replace(/\s+/g," ").toLowerCase().includes(t))||!1)}return e},[c,g]),w=(0,a.useMemo)(()=>{if(0===c.length)return{days:[],tracks:[],locations:[],langs:[],speakers:[]};let e=new Map;c.forEach(t=>{t.speakers?.forEach(t=>e.set(t.id,t.nome)),t.moderatore&&e.set(t.moderatore.id,t.moderatore.nome),t.organizzatori?.forEach(t=>e.set(t.id,t.nome))});let t=[...e.entries()].map(([e,t])=>({id:e,nome:t})).sort((e,t)=>e.nome.localeCompare(t.nome));return{days:[...new Set(c.map(e=>e.inizio.split("T")[0]))].sort(),tracks:[...new Set(c.map(e=>e.track))].filter(Boolean).sort(),locations:[...new Set(c.map(e=>e.location))].filter(Boolean).sort(),langs:[...new Set(c.map(e=>e.lingua))].filter(Boolean).sort(),speakers:t}},[c]),S=(0,a.useMemo)(()=>[...new Set(c.map(e=>e.track))].filter(Boolean).sort(),[c]),j=(0,a.useMemo)(()=>[...new Set(x.map(e=>e.inizio.split("T")[0]))].sort(),[x]);(0,a.useEffect)(()=>{u(new Set(j))},[j.join(",")]);let C=e=>{u(t=>{let a=new Set(t);return a.has(e)?a.delete(e):a.add(e),a})},z=j.length>0&&m.size===j.length,v=(0,a.useMemo)(()=>{let e={};return x.forEach(t=>{let a=t.inizio.split("T")[0];e[a]||(e[a]=[]),e[a].push(t)}),Object.keys(e).forEach(t=>{e[t].sort((e,t)=>new Date(e.inizio).getTime()-new Date(t.inizio).getTime())}),e},[x]);return(0,t.jsxs)("div",{className:"container my-4",children:[(0,t.jsxs)("div",{className:"my-5 text-center",children:[(0,t.jsx)("h1",{className:"mb-0",children:"ITASEC26"}),(0,t.jsx)("h3",{className:"mb-0",children:"Agenda at a Glance"})]}),(0,t.jsx)(o.default,{options:w,filters:g,onFilterChange:p,onClearFilters:()=>p({...o.emptyFilters}),filteredCount:x.length,totalCount:c.length,onDownloadAgenda:()=>{(0,l.generateAgendaPDF)(x)},canDownloadAgenda:x.length>0,onExpandAllSections:()=>u(new Set(j)),onCollapseAllSections:()=>u(new Set),allSectionsExpanded:z,compactMode:h,onToggleCompactMode:()=>f(e=>!e)}),c.length>0&&0===x.length&&(0,t.jsx)("div",{className:"card mb-4",children:(0,t.jsxs)("div",{className:"card-body text-center py-5",children:[(0,t.jsx)("p",{className:"text-muted mb-3",children:"No sessions found with these filters."}),(0,t.jsxs)("button",{type:"button",className:"btn btn-outline-primary",onClick:()=>p({...o.emptyFilters}),children:[(0,t.jsx)("i",{className:"fa-solid fa-times me-2"}),"Clear filters"]})]})}),(0,t.jsx)("div",{className:"agenda-timeline",children:Object.entries(v).sort(([e],[t])=>e.localeCompare(t)).map(([e,a])=>{let s=m.has(e);return(0,t.jsxs)("div",{className:"mb-5",children:[(0,t.jsxs)("h3",{className:"mb-3 border-bottom pb-2 d-flex align-items-center gap-2 user-select-none",style:{cursor:"pointer"},onClick:()=>C(e),role:"button",tabIndex:0,onKeyDown:t=>"Enter"===t.key&&C(e),"aria-expanded":s,children:[(0,t.jsx)("i",{className:`fa-solid fa-chevron-${s?"down":"right"} fa-sm`,"aria-hidden":"true"}),(0,t.jsx)("i",{className:"fa-solid fa-calendar me-2","aria-hidden":"true"}),new Date(e).toLocaleDateString("en-US",{weekday:"long",day:"numeric",month:"long"})," (",a.length," session",a.length>1?"s":"",")"]}),s&&(0,t.jsx)(i,{events:a,allTracks:S,onSessionClick:e=>n.push(`/session/${e.key}`)})]},e)})})]})}function d(){return(0,t.jsx)(a.Suspense,{fallback:(0,t.jsx)("div",{className:"container my-4",children:(0,t.jsx)("div",{className:"text-center",children:(0,t.jsx)("div",{className:"spinner-border",role:"status",children:(0,t.jsx)("span",{className:"visually-hidden",children:"Loading..."})})})}),children:(0,t.jsx)(c,{})})}e.s(["default",()=>d],20779)},95111,e=>{e.v(t=>Promise.all(["static/chunks/b8a392715cb48bcd.js"].map(t=>e.l(t))).then(()=>t(38201)))},48503,e=>{e.v(t=>Promise.all(["static/chunks/adabfc2d4bff09a9.js"].map(t=>e.l(t))).then(()=>t(15833)))},13376,e=>{e.v(t=>Promise.all(["static/chunks/db92345ecc188344.js"].map(t=>e.l(t))).then(()=>t(17314)))}]);